<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Kana Coach – Learn Hiragana & Katakana with a Smart Japanese Reading Trainer</title>

  <meta name="description" content="Kana Coach is a free Japanese reading trainer to help you master hiragana and katakana. Practise kana, words and short sentences with smart answer checking and trouble tracking.">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://kanacoach.com">

  <meta property="og:title" content="Kana Coach – Hiragana &amp; Katakana Trainer">
  <meta property="og:description" content="A clean, focused kana reading trainer with smart romaji checking and trouble tracking.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kanacoach.com">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Kana Coach – Japanese Kana Trainer">
  <meta name="twitter:description" content="Practise hiragana and katakana with smart answer checking and trouble tracking.">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalApplication",
    "name": "Kana Coach",
    "description": "A Japanese reading trainer for learning hiragana and katakana.",
    "applicationCategory": "EducationalApplication",
    "operatingSystem": "Web",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "GBP" }
  }
  </script>

<!-- Icons -->
  <link rel="icon" type="image/svg+xml" href="assets/icons/jp-flag.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/jp-flag-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/jp-flag-180.png">

  <meta name="theme-color" content="#0a0c12" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#faf7f2" media="(prefers-color-scheme: light)">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Kana Coach">

  <link rel="stylesheet" href="assets/css/styles.css" />
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <!-- Logo -->
      <div class="brand" aria-label="Kana Coach">
        <svg class="brandLogo" viewBox="0 0 240 40" role="img" aria-label="Kana Coach">
          <text x="0" y="28"
                font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
                font-size="28"
                font-weight="850"
                fill="currentColor">Kana<tspan dx="2"
                   dy="0"
                   font-family="Hiragino Mincho ProN, Yu Mincho, Noto Serif JP, ui-serif, Georgia, serif"
                   font-size="28"
                   font-weight="700"
                   fill="var(--accent)">あ</tspan><tspan dx="2"
                   dy="0"
                   font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
                   font-size="28"
                   font-weight="500"
                   fill="currentColor">Coach</tspan></text>
        </svg>
      </div>

      <div style="display:flex;gap:10px;align-items:center">
        <button class="icon" id="helpBtn" aria-label="Help"><span class="iconGlyph">?</span></button>

        <!-- Settings cog as SVG for true centering -->
        <button class="icon" id="menuBtn" aria-label="Open settings">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path fill="currentColor" d="M19.14,12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.4.12-.61l-1.92-3.32c-.11-.21-.36-.3-.58-.22l-2.39.96c-.5-.38-1.04-.7-1.64-.94l-.36-2.54c-.03-.23-.23-.4-.47-.4h-3.84c-.24,0-.44.17-.47.4l-.36,2.54c-.6.24-1.15.56-1.64.94l-2.39-.96c-.22-.09-.47.01-.58.22l-1.92,3.32c-.11.21-.06.47.12.61l2.03,1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03,1.58c-.18.14-.23-.4-.12-.61l1.92,3.32c.11.21.36.3.58.22l2.39-.96c.5.38,1.04.7,1.64.94l.36,2.54c.03-.23.23-.4.47-.4h3.84c.24,0 .44.17.47.4l.36-2.54c.6-.24,1.15-.56,1.64-.94l2.39.96c.22.09.47-.01.58-.22l1.92-3.32c.11-.21.06-.47-.12-.61l-2.03-1.58ZM12,15.5c-1.93,0-3.5-1.57-3.5-3.5s1.57-3.5,3.5-3.5,3.5,1.57,3.5,3.5-1.57,3.5-3.5,3.5Z"/>
          </svg>
        </button>
      </div>
    </div>

    <div class="stack">

      <!-- 1) Prompt container -->
      <div class="card promptCard">
        <div class="bigPrompt" id="prompt">—</div>
        <div class="promptMeta">
          <div id="typeMeta">—</div>
          <div id="indexMeta">—</div>
        </div>
      </div>

      <!-- 2) Input container -->
      <div class="card answerCard">
        <div class="answerInner">
          <input
              type="text"
              id="answer"
              placeholder="Type romaji"
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              inputmode="latin"
            >
          <div class="btns">
            <button class="primary" id="checkBtn">Check</button>
            <button class="ghost" id="revealBtn">Reveal</button>
            <button id="nextBtn">Next</button>
          </div>
        </div>
      </div>

      <!-- 3) Answer / definition container -->
      <div class="result" id="result">
        <p class="mini">Press <b>Enter</b> to check. Press <b>Enter</b> again for next.</p>
      </div>

    </div>

    <div class="bottom">
      <div class="statCard">
        <p class="statLabel">Streak</p>
        <p class="statValue" id="streakValue">0</p>
        <p class="statSub" id="modeTiny">Mode: Normal</p>
      </div>
      <div class="statCard">
        <p class="statLabel">Accuracy</p>
        <p class="statValue" id="accValue">—</p>
        <p class="statSub" id="seenTiny">0 attempts</p>
      </div>

      <!-- Trouble card is tappable -->
      <div class="statCard troubleCard" id="troubleCard" role="button" tabindex="0" aria-label="View trouble kana">
        <p class="statLabel">Trouble kana</p>
        <p class="statValue" id="troubleValue">0</p>
        <p class="statSub" id="troubleSub">characters flagged</p>
      </div>
    </div>

    <div class="pills">
      <span class="pill" id="poolPill">Practice: —</span>
      <span class="pill" id="scriptPill">Script: —</span>
      <span class="pill" id="difficultyPill">Level: —</span>
    </div>
  </div>

  <!-- Version (bottom-right) — clickable to open changelog -->
  <div class="versionTag" id="versionTag" role="button" tabindex="0" aria-label="Open changelog">v0.8.6</div>

  <!-- Drawer -->
  <div class="drawerOverlay" id="drawerOverlay"></div>
  <aside class="drawer" id="drawer" aria-label="Settings">
    <div class="drawerHeader">
      <h2 class="drawerTitle">Settings</h2>
      <button class="icon" id="closeDrawerBtn" aria-label="Close settings">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 0 0 0 0-1.4z"/>
        </svg>
      </button>
    </div>

    <div class="drawerSection">
      <h2>Practice mode</h2>
      <label for="modeSelect" style="display:block;margin:8px 0 6px">Mode</label>
      <select id="modeSelect">
        <option value="normal" selected>Normal (mix of characters/words/sentences)</option>
        <option value="trouble">Trouble kana (characters you miss most)</option>
        <option value="recent">Recent trouble kana (quick redo)</option>
      </select>

      <div class="hintBox" id="modeHint">
        Trouble kana is calculated across all words/sentences too — the same character missed in different contexts is counted together.
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
        <button id="resetSessionBtn">Reset session stats</button>
        <button id="resetHistoryBtn">Reset learning history</button>
      </div>
    </div>

    <div class="drawerSection">
      <h2>What to practise</h2>

      <!-- Moved up: Script + Level first -->
      <label for="scriptSelect" style="display:block;margin:12px 0 6px">Script</label>
      <select id="scriptSelect">
        <option value="both" selected>Hiragana + Katakana</option>
        <option value="hira">Hiragana only</option>
        <option value="kata">Katakana only</option>
      </select>

      <label for="difficultySelect" style="display:block;margin:12px 0 6px">Level</label>
      <select id="difficultySelect">
        <option value="easy">Easy</option>
        <option value="standard" selected>Standard</option>
        <option value="spicy">Spicy</option>
      </select>

      <label style="margin-top:12px"><input type="checkbox" id="mixChars" checked /> Include characters</label>
      <label><input type="checkbox" id="mixWords" checked /> Include words (kana-only)</label>
      <label><input type="checkbox" id="mixSentences" checked /> Include short sentences (kana-only)</label>

      <!-- Sentence categories (collapses/disables if sentences not enabled) -->
      <div id="sentenceCatBox" class="sentenceCatBox">
        <div class="hintBox" style="margin-top:8px">
          Sentence categories
        </div>
        <label><input class="sentCat" type="checkbox" value="travel" checked /> Travel &amp; basics</label>
        <label><input class="sentCat" type="checkbox" value="food_drink" checked /> Food &amp; drink</label>
        <label><input class="sentCat" type="checkbox" value="transport" checked /> Transport</label>
        <label><input class="sentCat" type="checkbox" value="directions" checked /> Directions</label>
        <label><input class="sentCat" type="checkbox" value="accommodation" checked /> Accommodation</label>
        <label><input class="sentCat" type="checkbox" value="shopping" checked /> Shopping</label>
        <label><input class="sentCat" type="checkbox" value="social" checked /> Social</label>
        <label><input class="sentCat" type="checkbox" value="time_money" checked /> Time &amp; money</label>
        <label><input class="sentCat" type="checkbox" value="emergencies" checked /> Emergencies</label>
      </div>

      <!-- Pool count moved BELOW sentence categories -->
      <div class="poolCountLine" id="poolCountLine">Pool: —</div>

      <label><input type="checkbox" id="allowLenient" checked /> Lenient checking (common romanisation variants)</label>
      <label><input type="checkbox" id="allowAlmost" checked /> Mark close-but-not-standard as “Almost”</label>

      <div class="hintBox">
        Notes: for particles, you’ll often see <span class="mono">は</span> read as <span class="mono">wa</span>, and <span class="mono">を</span> commonly written as <span class="mono">o</span> (though <span class="mono">wo</span> exists too).</div>

      <div class="hintBox">
        Keyboard: <span class="kbd">Enter</span> check/next • <span class="kbd">Shift</span>+<span class="kbd">Enter</span> reveal • <span class="kbd">Esc</span> next
      </div>
    </div>

    <!-- Appearance -->
    <div class="drawerSection">
      <h2>Appearance</h2>
      <label>
        <input type="checkbox" id="kanaFontSerif" />
        Use Mincho-style kana font (serif)
      </label>
      <div class="hintBox">
        Switches the large kana prompt between a rounded system style and a Japanese serif (Mincho-like) style.
      </div>

      <label style="margin-top:12px">
        <input type="checkbox" id="showSpaces" />
        Show spaces between words
      </label>
      <div class="hintBox">
        Adds clear spacing to multi‑word words/sentences to make them easier to parse. This doesn’t change what kana you see — it only adds word breaks.
      </div>
    </div>
  </aside>

  <!-- Tutorial / Help modal -->
  <div class="modalOverlay" id="helpOverlay"></div>
  <div class="modal" id="helpModal" role="dialog" aria-modal="true" aria-label="Welcome">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:10px">
      <h3 style="margin:0">Welcome to Kana Coach</h3>
      <button class="icon closeIcon" id="closeHelpBtn" aria-label="Close help">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 0 0 0 0-1.4z"/>
        </svg>
      </button>
    </div>

    <p class="mini" style="margin-top:10px">
      Thanks for using Kana Coach — I hope it helps you get better at reading hiragana and katakana, and recognising (and even understanding) common Japanese phrases.
    </p>

    <div class="helpSections">
      <div class="helpSection">
        <h4>Quick start</h4>
        <ul>
          <li>Read the kana prompt and type the <span class="mono">romaji</span>.</li>
          <li><span class="kbd">Enter</span> checks your answer. Press <span class="kbd">Enter</span> again for the next item.</li>
          <li><span class="kbd">Shift</span> + <span class="kbd">Enter</span> reveals the answer. <span class="kbd">Esc</span> skips.</li>
        </ul>
      </div>

      <div class="helpSection">
        <h4>Answer checking</h4>
        <ul>
          <li><b>Lenient checking</b> accepts common variants (e.g. <span class="mono">shi/si</span>, <span class="mono">chi/ti</span>), and particles like <span class="mono">は</span> (<span class="mono">wa</span>) and <span class="mono">を</span> (<span class="mono">o/wo</span>).</li>
          <li><b>Almost</b> means you were close — we’ll highlight exactly what differed.</li>
          <li><b>Spacing matters</b> when a phrase has multiple words (you can optionally show word spaces in <b>Settings → Appearance</b>).</li>
          <li>In <b>Easy</b> and <b>Standard</b>, spacing mistakes are marked <b>Almost</b>. In <b>Spicy</b>, spacing must be exact.</li>
</ul>
      </div>

      <div class="helpSection">
        <h4>Trouble kana</h4>
        <ul>
          <li>Kana you miss repeatedly get flagged as <b>Trouble</b>.</li>
          <li>Tap the <b>Trouble kana</b> counter to view the current list.</li>
          <li>Get a trouble kana <b>correct 3 times in a row</b> to remove it from the trouble list.</li>
</ul>
      </div>

      <div class="helpSection">
        <h4>Progress</h4>
        <ul>
          <li>Your progress and settings are saved <b>locally on this device/browser</b> — they won’t carry across to other devices, or to a different browser.</li>
</ul>
      </div>
    </div>
  </div>

  <!-- Trouble list modal -->
  <div class="modalOverlay" id="troubleOverlay"></div>
  <div class="modal troubleModal" id="troubleModal" role="dialog" aria-modal="true" aria-label="Trouble kana list">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:10px">
      <h3 style="margin:0">Trouble kana</h3>
      <button class="icon" id="closeTroubleBtn" aria-label="Close trouble list">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 0 0 0 0-1.4z"/>
        </svg>
      </button>
    </div>

    <p class="mini" style="margin-top:10px">
      These are the kana currently flagged as Trouble for your selected Script. Get one <b>correct 3 times in a row</b> to remove it from the list.
    </p>

    <div id="troubleList" class="troubleList">
      <!-- populated by JS -->
    </div>
  </div>

  <!-- Changelog modal (opened by clicking version number) -->
  <div class="modalOverlay" id="changelogOverlay"></div>
  <div class="modal" id="changelogModal" role="dialog" aria-modal="true" aria-label="Changelog">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:10px">
      <h3 style="margin:0">Changelog</h3>
      <button class="icon" id="closeChangelogBtn" aria-label="Close changelog">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 0 0 0 0-1.4z"/>
        </svg>
      </button>
    </div>

    <div id="changelogContent" style="margin-top:10px">
      <!-- populated by JS -->
    </div>
  </div>

  <script type="module" src="assets/js/app.js"></script>
</body>
</html>